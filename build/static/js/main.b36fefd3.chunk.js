(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,n){e.exports=n(304)},304:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),l=n.n(o),s=n(8),c=n(10),i=n(13),u=n(11),p=n(14),m=n(12),d="REMOVE_OTHER_USER_DB_POSTS",h="SET_OTHER_USER_DB_PROFILE",f="REMOVE_OTHER_USER_DB_PROFILE",_="FETCH_OTHER_USER_DB_POSTS_SUCCESS",E="SET_USER_MESSAGES",b="REMOVE_USER_MESSAGES",g={type:"SUCCESS"},v={type:"FAILURE"},y=function(){return{type:"SUCCESS"}},O=function(){return{type:"FAILURE"}},S=function(e){return{type:"USER_INPUT",payload:e}},C=function(){return{type:"LOGIN_SUCCESS"}},j=function(){return{type:"LOGIN_FAILURE"}},k=function(e){return{type:"ADD_PROFILE",payload:e}},R=function(){return{type:"REMOVE_PROFILE"}},T=function(e){return{type:"SET_DB_PROFILE",payload:e}},P=function(){return{type:"REMOVE_DB_PROFILE"}},x=function(e){return{type:"FETCH_DB_POSTS",payload:e}},D=function(e){return{type:"FETCH_POST_COMMENTS",payload:e}},w=function(e){return{type:"FETCH_USER_POSTS",payload:e}},A=function(e){return{type:"SEARCH_POSTS_SUCCESS",payload:e}},M=function(){return{type:"SEARCH_POSTS_FAILURE"}};var F=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return console.log(e.props.stateprop1)}}," Get State "),r.a.createElement("button",{onClick:function(){return e.props.action1()}}," Dispatch Action 1 "),r.a.createElement("button",{onClick:function(){return e.props.action2()}},"Dispatch Action 2 "),r.a.createElement("button",{onClick:function(){return e.props.action_creator1()}},"Dispatch Action Creator 1 "),r.a.createElement("button",{onClick:function(){return e.props.action_creator2()}},"Dispatch Action Creator 2 "),this.props.user_text?r.a.createElement("h3",null," ",this.props.user_text," "):r.a.createElement("h3",null," No User Text "),r.a.createElement("br",null),this.props.stateprop1?r.a.createElement("p",null," stateprop1 is true "):r.a.createElement("p",null," stateprop1 is false "))}}]),t}(a.Component);var U=Object(m.b)(function(e){return{stateprop1:e.reducer1.stateprop1,user_text:e.user_reducer.user_text}},function(e){return{action1:function(){return e(g)},action2:function(){return e(v)},action_creator1:function(){return e(y())},action_creator2:function(){return e(O())}}})(F),N=n(307),I=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(N.a,{to:"/",style:{padding:"5px"}},"Home"),r.a.createElement(N.a,{to:"/profile",style:{padding:"5px"}},"Profile"),r.a.createElement(N.a,{to:"/component1",style:{padding:"5px"}},"Component 1"),r.a.createElement(N.a,{to:"/form1",style:{padding:"5px"}},"Form 1"),r.a.createElement(N.a,{to:"/renderlist",style:{padding:"5px"}},"List"),r.a.createElement(N.a,{to:"/posts",style:{padding:"5px"}},"Forum"),r.a.createElement(N.a,{to:"/privateroute",style:{padding:"5px"}},"Private Route"),this.props.is_authenticated?r.a.createElement("button",{onClick:function(){return e.props.auth.logout()}},"Logout"):r.a.createElement("button",{onClick:function(){return e.props.auth.login()}},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(a.Component);var B=Object(m.b)(function(e){return{is_authenticated:e.auth_reducer.is_authenticated}})(I),L=n(33),H=Object(L.a)(),V=n(15),J=n.n(V),Y=n(42),G=n.n(Y),z=n(44),W=n.n(z),q=n(43),K=n.n(q),X=n(56),Z=n.n(X),Q=n(60),$=n.n(Q),ee=n(58),te=n.n(ee),ne=n(59),ae=n.n(ne),re=n(57),oe=n.n(re),le=n(20),se=n.n(le),ce=(n(89),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClickOpen=function(e){n.setState({open:!0,post_id:e})},n.handleClickClose=function(){n.setState({open:!1,post_id:null})},n.RenderProfile=function(e){return console.log(e.profile),e.profile&&null!==e.profile&&0!==e.profile.length?r.a.createElement("div",null,"Profile ?"):r.a.createElement("div",null,"No profile loaded")},n.RenderPosts=function(e){return r.a.createElement(G.a,{style:{width:"500px",height:"200px",marginBottom:"10px",paddingBottom:"80px"}},r.a.createElement(K.a,{title:r.a.createElement(N.a,{to:{pathname:"/post/"+e.post.pid,state:{post:e}}},e.post.title),subheader:r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",{className:"FlexRow"},e.post.date_created),r.a.createElement("div",{className:"FlexRow"},r.a.createElement(N.a,{to:{pathname:"/editpost/"+e.post.pid,state:{post:e}}},r.a.createElement("button",null,"Edit")),r.a.createElement("button",{onClick:function(){return n.handleClickOpen(e.post.pid)}},"Delete")))}),r.a.createElement("br",null),r.a.createElement(W.a,null,r.a.createElement("span",{style:{overflow:"hidden"}}," ",e.post.body," ")))},n.DeltePost=function(){var e=n.state.post_id;J.a.delete("api/delete/postcomments",{data:{post_id:e}}).then(function(){return J.a.delete("/api/delete/post",{data:{post_id:e}}).then(function(e){return console.log(e)})}).catch(function(e){return console.log(e)}).then(function(){return n.handleClickClose()}).then(function(){return setTimeout(function(){return H.replace("/")},700)})},n.state={open:!1,post_id:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.db_profile){var t=this.props.db_profile[0].uid;J.a.get("/api/get/userposts",{params:{user_id:t}}).then(function(t){return e.props.set_user_posts(t.data)}).catch(function(e){return console.log(e)})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(this.RenderProfile,{profile:this.props.profile})),r.a.createElement("div",null,r.a.createElement(N.a,{to:{pathname:"/showmessages/"+this.state.user_id}},r.a.createElement(se.a,{variant:"contained",color:"primary",type:"submit"},"Show Messages")),r.a.createElement("br",null)),r.a.createElement("div",null,this.props.user_posts?this.props.user_posts.map(function(t){return r.a.createElement(e.RenderPosts,{post:t,key:t.pid})}):null),r.a.createElement(Z.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"}," Confirm Delete? "),r.a.createElement(te.a,null,r.a.createElement(ae.a,{id:"alert-dialog-description"},"Deleteing Post"),r.a.createElement($.a,null,r.a.createElement(se.a,{onClick:function(){return e.DeltePost()}},"Agree"),r.a.createElement(se.a,{onClick:function(){return e.handleClickClose()}},"Cancel")))))}}]),t}(a.Component));var ie=Object(m.b)(function(e){return{profile:e.auth_reducer.profile,user_posts:e.posts_reducer.user_posts,db_profile:e.auth_reducer.db_profile}},function(e){return{set_user_posts:function(t){return e(w(t))}}})(ce),ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.handleChange=function(e){return n.setState({value:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.input_action_creator(e.target.name.value)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null," Input "),r.a.createElement("input",{id:"name",onChange:this.handleChange,type:"text"}),r.a.createElement("button",{type:"submit"}," Submit ")),r.a.createElement("br",null),r.a.createElement("h3",null,"React State:"),r.a.createElement("p",null,this.state.value),r.a.createElement("br",null),r.a.createElement("h3",null,"Redux State:"),r.a.createElement("p",null,this.props.user_text))}}]),t}(a.Component);var pe=Object(m.b)(function(e){return{user_text:e.user_reducer.user_text}},function(e){return{input_action_creator:function(t){return e(S(t))}}})(ue),me=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={items:[{id:1,text:"text 1",num:10,bool:!0},{id:2,text:"text 2",num:20,bool:!1},{id:3,text:"text 3",num:30,bool:!0}]},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.items.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(N.a,{to:{pathname:"/listitem/"+e.id,state:{list_item:e}},style:{marginTop:"25px",padding:"5px"}},"List Item ",e.id),r.a.createElement("br",null),r.a.createElement("br",null))}))}}]),t}(a.Component);var de=Object(m.b)(function(e){return{}})(me),he=function(e){return r.a.createElement("div",null,"Component 1",console.log(e))},fe=function(e){return r.a.createElement("div",null,"Callback")},_e=function(e){return r.a.createElement("div",null,"Private Component")},Ee=function(e){return r.a.createElement("div",null,"UnauthRedirect")},be=function(e){return r.a.createElement("div",null,"Home")},ge=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e.location.state.list_item.text),r.a.createElement("h4",null," ",e.location.state.list_item.num," "),r.a.createElement("div",null,e.location.state.list_item.bool?r.a.createElement("p",null,"Boolean is True"):r.a.createElement("p",null,"Boolean is False")))},ve=function(e){return r.a.createElement("div",{className:"FlexRowMain"},r.a.createElement("div",null,r.a.createElement("h1",null,"Signup and Create an Account"),r.a.createElement(se.a,{color:"primary",size:"large",variant:"contained",onClick:function(){return e.auth.login()}},"Signup")))},ye=n(29),Oe=n(61),Se=n.n(Oe),Ce=n(25),je=n.n(Ce),ke=n(122),Re=n.n(ke),Te=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).animate_search_posts=function(){n.setState({posts_search_motion:[]});var e=1;n.state.posts_search.map(function(t){setTimeout(function(){n.setState({posts_search_motion:[].concat(Object(ye.a)(n.state.posts_search_motion),[t])})},50*e),e++})},n.add_search_posts_to_state=function(e){n.setState({posts_search:[]}),n.setState({posts_search:Object(ye.a)(e)}),n.animate_search_posts()},n.handleSearch=function(e){var t=e.target.value;J.a.get("/api/get/searchpost",{params:{search_query:t}}).then(function(e){return n.props.search_posts_success(e.data)}).then(function(){return n.add_search_posts_to_state(n.props.db_search_posts)}).catch(function(e){console.log(e)})},n.handleTransition=function(){setTimeout(function(){return n.setState({opacity:1})},400)},n.add_posts_to_state=function(e){n.setState({posts:Object(ye.a)(e)}),n.setState({num_posts:n.state.posts.length}),n.setState({page_range:n.state.num_posts/5}),n.slice_posts(),n.animate_posts()},n.slice_posts=function(){var e=n.state.activePage*n.state.posts_per_page,t=e-n.state.posts_per_page;n.setState({posts_slice:n.state.posts.slice(t,e)})},n.animate_posts=function(){n.setState({posts_motion:[]});var e=1;n.state.posts_slice.map(function(t){setTimeout(function(){n.setState({posts_motion:[].concat(Object(ye.a)(n.state.posts_motion),[t])})},400*e),e++})},n.handlePageChange=function(e){n.setState({activePage:e}),setTimeout(function(){n.slice_posts()},50),setTimeout(function(){n.animate_posts()},100)},n.RenderPosts=function(e){return r.a.createElement("div",{className:"CardStyles"},r.a.createElement(G.a,null,r.a.createElement(K.a,{title:r.a.createElement(N.a,{to:{pathname:"/post/"+e.post.pid,state:{post:e}}},e.post.title),subheader:r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",{className:"FlexRow"},Se()(e.post.date_created).format("MMMM Do, YYYY | h:mm a")),r.a.createElement("div",{className:"FlexRow"},"By:",r.a.createElement(N.a,{style:{paddingLeft:"5px",textDecoration:"none"},to:{pathname:"/user/"+e.post.author,state:{post:e}}},e.post.author)),r.a.createElement("div",{className:"FlexRow"},r.a.createElement("i",{className:"material-icons"},"thumb_up"),r.a.createElement("div",{className:"notification-num-allposts"}," ",e.post.likes," ")))}),r.a.createElement("br",null),r.a.createElement(W.a,null,r.a.createElement("span",{style:{overflow:"hidden"}}," ",e.post.body," "))))},n.state={posts:[],opacity:0,posts_motion:[],num_posts:0,page_range:0,activePage:1,posts_per_page:5,posts_slice:[],posts_search:[],posts_search_motion:[]},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleTransition(),J.a.get("/api/get/allposts").then(function(t){return e.props.set_posts(t.data)}).then(function(){return e.add_posts_to_state(e.props.posts)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{opacity:this.state.opacity,transition:"opacity 2s ease"}},r.a.createElement("br",null),this.props.is_authenticated?r.a.createElement(N.a,{to:"/addpost"},r.a.createElement(se.a,{variant:"contained",color:"primary"},"Add Post")):r.a.createElement(N.a,{to:"/signup"},r.a.createElement(se.a,{variant:"contained",color:"primary"},"Sign Up to Add Post"))),r.a.createElement(je.a,{id:"search",label:"Search",margin:"normal",onChange:this.handleSearch}),r.a.createElement("hr",null),r.a.createElement("hr",null),r.a.createElement("div",null,this.state.posts_search?this.state.posts_search_motion.map(function(t){return r.a.createElement("div",null,r.a.createElement(e.RenderPosts,{key:t.pid,post:t}))}):null),r.a.createElement("div",{style:{opacity:this.state.opacity,transition:"opacity 2s ease"}},r.a.createElement("h1",null,"Posts"),r.a.createElement("div",null,this.state.posts?this.state.posts_motion.map(function(t){return r.a.createElement(e.RenderPosts,{key:t.pid,post:t})}):null)),r.a.createElement(Re.a,{activePage:this.state.activePage,itemsCountPerPage:5,totalItemsCount:this.state.num_posts,pageRangeDisplayed:this.state.page_range,onChange:this.handlePageChange}))}}]),t}(a.Component);var Pe=Object(m.b)(function(e){return{posts:e.posts_reducer.posts,is_authenticated:e.auth_reducer.is_authenticated,db_search_posts:e.posts_reducer.db_search_posts}},function(e){return{set_posts:function(t){return e(x(t))},search_posts_success:function(t){return e(A(t))},remove_search_posts:function(){return e(M())}}})(Te),xe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),console.log(n.props);var t={title:e.target.title.value,body:e.target.body.value,username:"dpopescu",uid:1};console.log(t),J.a.post("/api/post/posttodb",t).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}).then(setTimeout(function(){return H.replace("/")},700))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(je.a,{id:"title",label:"Title",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(je.a,{id:"body",label:"Body",multiline:!0,rowsMax:"4",margin:"normal"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"}," Submit ")),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return H.replace("/posts")}}," Cancel "))}}]),t}(a.Component);var De=Object(m.b)(function(e){return{db_profile:e.auth_reducer.db_profile}})(xe),we=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).setCurUserID=function(){n.props.isAuthenticated&&n.setState({cur_user_id:n.props.db_profile[0].uid})},n.handleTransition=function(){return setTimeout(function(){return n.setState({opacity:1})},400)},n.add_comments_to_state=function(e){n.setState({comments_arr:Object(ye.a)(e)}),n.animate_comments()},n.animate_comments=function(){var e=1;n.state.comments_arr.map(function(t){setTimeout(function(){n.setState({comments_motion:[].concat(Object(ye.a)(n.state.comments_motion),[t])})},400*e),e++})},n.handleCommentSubmit=function(e){setTimeout(function(){return n.setState({comments_motion:[e].concat(Object(ye.a)(n.state.comments_motion))})},50)},n.handleCommentUpdate=function(e){var t=n.state.comments_motion.findIndex(function(t){return t.cid===e.cid}),a=Object(ye.a)(n.state.comments_motion);a[t]=e,n.setState({comments_motion:a})},n.handleCommentDelete=function(e){n.setState({delete_comment_id:e});var t=n.state.comments_motion.filter(function(t){return t.cid!==e});setTimeout(function(){return n.setState({comments_motion:t})},900)},n.RenderComments=function(e){return r.a.createElement("div",{className:n.state.delete_comment_id===e.comment.cid?"FadeOutComment":"CommentStyles"},r.a.createElement("h3",null," ",e.comment.comment," "),r.a.createElement("small",null,"Just Now"===e.comment.date_created?r.a.createElement("div",null," ",e.comment.isEdited?r.a.createElement("span",null," Edited "):r.a.createElement("span",null," Just Now ")):e.comment.date_created),r.a.createElement("p",null," By: ",e.comment.author," "),e.cur_user_id===e.comment.user_id?r.a.createElement(se.a,{onClick:function(){return n.handleClickOpen(e.comment.cid,e.comment.comment)}},"Edit"):null)},n.handleClickOpen=function(e,t){return n.setState({open:!0,comment:t,cid:e})},n.handleClose=function(){return n.setState({open:!1,comment:"",cid:""})},n.handleCommentChange=function(e){return n.setState({comment:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.setState({comment:""});var t=e.target.comment.value,a=n.props.db_profile[0].uid,r=n.props.location.state.post.post.pid,o=n.props.db_profile[0].username,l={cid:63426,comment:t,user_id:a,author:o,date_created:"Just Now"},s={comment:t,post_id:r,user_id:a,username:o};J.a.post("/api/post/commenttodb",s).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),window.scroll({top:0,left:0,behavior:"smooth"}),n.handleCommentSubmit(l)},n.handleUpdate=function(){var e=n.state.comment,t=n.state.cid,a=n.props.db_profile[0].uid,r=n.props.location.state.post.post.pid,o=n.props.db_profile[0].username,l={cid:t,comment:e,user_id:a,author:o,date_created:"Just Now",isEdited:!0},s={cid:t,comment:e,post_id:r,user_id:a,username:o};J.a.put("/api/put/commenttodb",s).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),n.handleCommentUpdate(l)},n.handleDelete=function(){var e=n.state.cid;J.a.delete("/api/delete/comment",{data:{cid:e}}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),n.handleCommentDelete(e)},n.handleLikes=function(){var e=n.props.db_profile[0].uid;console.log(e);var t={uid:e,post_id:n.props.location.state.post.post.pid};J.a.put("/api/put/likes",t).then(!n.state.like_user_ids.includes(e)&&n.state.like_post?n.setState({likes:n.state.likes+1}):null).then(n.setState({like_post:!1})).catch(function(e){return console.log(e)})},n.state={open:!1,comment:"",cid:"",opacity:0,delete_comment_id:0,comments_arr:[],comments_motion:[],cur_user_id:null,likes:n.props.location.state.post.post.likes,like_user_ids:n.props.location.state.post.post.like_user_id,like_post:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.a.get("/api/get/allpostcomments",{params:{post_id:this.props.location.state.post.post.pid}}).then(function(t){return e.props.set_comments(t.data)}).then(function(){return e.add_comments_to_state(e.props.comments)}).catch(function(e){return console.log(e)}),console.log(this.props.db_profile),this.setCurUserID(),this.handleTransition()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Post"),r.a.createElement("h4",null,this.props.location.state.post.post.title),r.a.createElement("p",null,this.props.location.state.post.post.body),r.a.createElement("p",null,this.props.location.state.post.post.author),r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.props.isAuthenticated?function(){return e.handleLikes()}:function(){return H.replace("/signup")}},r.a.createElement("i",{className:"material-icons"},"thumb_up"),r.a.createElement("small",{className:"notification-num-showpost",style:{backgroundColor:this.state.like_post?"green":"gray",color:this.state.like_post?"white":"gray"}}," ",this.state.likes," ")),this.state.like_post?null:r.a.createElement("div",null,"Already liked")),r.a.createElement("div",null,r.a.createElement("h2",null," Comments:")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(je.a,{id:"comment",label:"Comment",margin:"normal"}),r.a.createElement("br",null),this.props.isAuthenticated?r.a.createElement(se.a,{variant:"contained",color:"primary",type:"submit"},"Submit"):r.a.createElement(N.a,{to:"/signup"},r.a.createElement(se.a,{variant:"contained",color:"primary"},"Signup to Comment")))),r.a.createElement("div",null,r.a.createElement(Z.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"Edit Comment"),r.a.createElement(te.a,null,r.a.createElement(ae.a,{id:"alert-dialog-description"},r.a.createElement("input",{type:"text",value:this.state.comment,onChange:this.handleCommentChange})),r.a.createElement($.a,null,r.a.createElement(se.a,{onClick:function(){e.handleUpdate(),e.handleClose()}},"Agree"),r.a.createElement(se.a,{onClick:function(){return e.handleClose()}},"Cancel"),r.a.createElement(se.a,{onClick:function(){e.handleDelete(),e.handleClose()}},"Delete"))))))}}]),t}(a.Component);var Ae=Object(m.b)(function(e){return{comments:e.posts_reducer.comments,db_profile:e.auth_reducer.db_profile,isAuthenticated:e.auth_reducer.is_authenticated}},function(e){return{set_comments:function(t){return e(D(t))}}})(we),Me=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleTitleChange=function(e){n.setState({title:e.target.value})},n.handleBodyChange=function(e){n.setState({body:e.target.value})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.db_profile[0].uid,a=n.props.db_profile[0].username,r=n.props.location.state.post.post.pid,o={title:e.target.title.value,body:e.target.body.value,pid:r,uid:t,username:a};J.a.put("/api/put/post",o).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}).then(setTimeout(function(){return H.replace("/profile")},700))},n.state={title:"",body:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({title:this.props.location.state.post.post.title,body:this.props.location.state.post.post.body})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(je.a,{id:"title",label:"title",margin:"normal",value:this.state.title,onChange:this.handleTitleChange}),r.a.createElement("br",null),r.a.createElement(je.a,{id:"body",label:"body",multiline:!0,rows:"4",margin:"normal",value:this.state.body,onChange:this.handleBodyChange}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"}," Submit ")),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return H.goBack()}}," Cancel "))}}]),t}(a.Component);var Fe=Object(m.b)(function(e){return{db_profile:e.auth_reducer.db_profile}})(Me),Ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).RenderProfile=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"FlexRow"},r.a.createElement("h1",null,e.profile.username)),r.a.createElement("div",{className:"FlexRow"},r.a.createElement(N.a,{to:{pathname:"/sendmessage/",state:{props:e}}},r.a.createElement(se.a,{variant:"contained",color:"primary",type:"submit"},"Send Message"))))},n.RenderPosts=function(e){return r.a.createElement("div",null,r.a.createElement(G.a,{className:"CardStyles"},r.a.createElement(K.a,{title:r.a.createElement(N.a,{to:{pathname:"/post/"+e.post.pid,state:{post:e}}},e.post.title),subheader:r.a.createElement("div",null,r.a.createElement("div",null,Se()(e.post.date_created).format("MMMM Do, YYYY | h:mm a")),r.a.createElement("div",null,e.post.author))}),r.a.createElement(W.a,null,r.a.createElement("span",{style:{overflow:"hidden"}},e.post.body," "))))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.post.post.author;J.a.get("/api/get/otheruserprofilefromdb",{params:{username:t}}).then(function(t){return e.props.set_profile(t.data)}).catch(function(e){console.log(e)}),J.a.get("/api/get/otheruserposts",{params:{username:t}}).then(function(t){return e.props.set_db_posts(t.data)}).catch(function(e){console.log(e)}),window.scrollTo({top:0,left:0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"FlexRow"},this.props.user_profile?r.a.createElement(this.RenderProfile,{profile:this.props.user_profile[0]}):null),r.a.createElement("br",null),r.a.createElement("hr",{className:"style-two"}),r.a.createElement("h3",null," Latest Activity: "),r.a.createElement("div",{className:"FlexColumn"},this.props.user_posts?this.props.user_posts.map(function(t){return r.a.createElement("div",null,r.a.createElement(e.RenderPosts,{key:t.pid,post:t}),r.a.createElement("br",null))}):null))}}]),t}(a.Component);var Ne=Object(m.b)(function(e){return{user_profile:e.user_reducer.OtherUserDBProfile,user_posts:e.user_reducer.db_other_user_posts}},function(e){return{set_db_posts:function(t){return e(function(e){return{type:_,payload:e}}(t))},set_profile:function(t){return e(function(e){return{type:h,payload:e}}(t))}}})(Ue),Ie=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.location.state.props.profile.username,a={message_sender:n.props.db_profile[0].username,message_to:t,title:e.target.title.value,body:e.target.body.value};J.a.post("/api/post/messagetodb",a).then(function(e){return console.log(e)}).catch(function(e){console.log(e)}).then(setTimeout(function(){H.replace("/")},700))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(je.a,{id:"title",label:"Title",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(je.a,{id:"body",multiline:!0,rows:"4",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"contained",color:"primary",type:"submit"},"Submit")),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("button",{className:"CancelButton",onClick:function(){return H.replace("/")}}," Cancel ")))}}]),t}(a.Component);var Be=Object(m.b)(function(e){return{db_profile:e.auth_reducer.db_profile}})(Ie),Le=n(123),He=n.n(Le),Ve=n(125),Je=n.n(Ve),Ye=n(81),Ge=n.n(Ye),ze=n(124),We=n.n(ze),qe=n(80),Ke=n.n(qe),Xe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).RenderMessages=function(e){return r.a.createElement(Ke.a,null,r.a.createElement(Ge.a,null,r.a.createElement("p",null," ",r.a.createElement("strong",null,"From: "),"  ",e.message.message_sender," "),r.a.createElement("p",null," ",r.a.createElement("strong",null,"Title "),"   ",e.message.message_title," "),r.a.createElement("p",null,r.a.createElement("strong",null," Message:"),"  ",e.message.message_body," "),r.a.createElement("small",null," ",e.message.date_created," "),r.a.createElement("br",null),r.a.createElement(N.a,{to:{pathname:"/replytomessage",state:{props:e}}},r.a.createElement("button",null,"Reply")),r.a.createElement("button",{onClick:function(){return n.DeleteMessage(e.message.mid)}}," Delete "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return H.goBack()}}," Cancel ")))},n.DeleteMessage=function(e){J.a.delete("/api/delete/usermessage",{data:{mid:e}}).then(function(e){return console.log(e)}).catch(function(e){console.log(e)}).then(function(){return setTimeout(function(){H.replace("/")},700)})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.db_profile[0].username;J.a.get("/api/get/usermessages",{params:{username:t}}).then(function(t){return e.props.set_user_messages(t.data)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"FlexRow"},r.a.createElement(He.a,null,r.a.createElement(We.a,null,r.a.createElement(Ke.a,null,r.a.createElement(Ge.a,null," ",r.a.createElement("strong",null," Messages ")," "))),r.a.createElement(Je.a,null,this.props.user_messages?this.props.user_messages.map(function(t){return r.a.createElement(e.RenderMessages,{key:t.mid,message:t})}):null))))}}]),t}(a.Component);var Ze=Object(m.b)(function(e){return{db_profile:e.auth_reducer.db_profile,user_messages:e.user_reducer.UserMessages}},function(e){return{set_user_messages:function(t){return e(function(e){return{type:E,payload:e}}(t))}}})(Xe),Qe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props.location.state.props.message.message_sender,a={message_sender:n.props.db_profile[0].username,message_to:t,title:e.target.title.value,body:e.target.body.value};J.a.post("/api/post/messagetodb",a).then(function(e){return console.log(e)}).catch(function(e){console.log(e)}).then(setTimeout(function(){H.replace("/")},700))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null," Message: "),r.a.createElement("div",{className:"FlexColumn"},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,this.props.location.state.props.message.message_title))),r.a.createElement("div",null,r.a.createElement("p",null,this.props.location.state.props.message.message_body)),r.a.createElement("div",null,r.a.createElement("small",null," By: ",this.props.location.state.props.message.message_sender))),r.a.createElement("div",{className:"FlexRow"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(je.a,{id:"title",label:"Title",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(je.a,{id:"body",multiline:!0,rows:"4",margin:"normal"}),r.a.createElement("br",null),r.a.createElement(se.a,{variant:"contained",color:"primary",type:"submit"},"Submit")),r.a.createElement("br",null)),r.a.createElement("div",{className:"FlexRow"},r.a.createElement("button",{className:"CancelButton",onClick:function(){return H.replace("/")}}," Cancel ")))}}]),t}(a.Component);var $e=Object(m.b)(function(e){return{db_profile:e.auth_reducer.db_profile}})(Qe),et=n(126),tt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).send_profile_to_db=function(e){var t=e;console.log(t),J.a.post("/api/post/userprofiletodb",t).then(J.a.get("/api/get/userprofilefromdb",{params:{email:e.profile.email}}).then(function(e){return n.props.set_db_profile(e.data)}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated()?(this.props.login_success(),this.props.add_profile(this.props.auth.userProfile),this.send_profile_to_db(this.props.auth.userProfile),setTimeout(function(){return H.replace("/")},50)):(this.props.login_failure(),this.props.remove_profile(),this.props.remove_db_profile(),H.replace("/"))}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(a.Component);var nt=Object(m.b)(function(e){return{}},function(e){return{login_success:function(){return e(C())},login_failure:function(){return e(j())},add_profile:function(t){return e(k(t))},remove_profile:function(){return e(R())},set_db_profile:function(t){return e(T(t))},remove_db_profile:function(){return e(P())}}})(tt),at=n(308),rt=n(311),ot=n(309),lt=n(310),st=new function e(){var t=this;Object(s.a)(this,e),this.auth0=new et.a.WebAuth({domain:"dev-223uudmw.auth0.com",clientID:"Fcp36lRtJz3kRZXAKSYho1NtjB48Bhxk",redirectUri:"http://35.180.16.198/callback",responseType:"token id_token",scope:"openid profile email"}),this.userProfile={},this.login=function(){t.auth0.authorize()},this.handleAuth=function(){t.auth0.parseHash(function(e,n){if(n){localStorage.setItem("access_token",n.accessToken),localStorage.setItem("id_token",n.idToken);var a=JSON.stringify(1e3*n.expiresIn+(new Date).getTime());localStorage.setItem("expiresAt",a),t.getProfile(),setTimeout(function(){H.replace("/authcheck")},2e3)}else console.log(e)})},this.getAccessToken=function(){return localStorage.getItem("access_token")?localStorage.getItem("access_token"):null},this.getProfile=function(){var e=t.getAccessToken();e&&t.auth0.client.userInfo(e,function(e,n){n&&(t.userProfile={profile:n})})},this.logout=function(){localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expiresAt"),setTimeout(function(){H.replace("/authcheck")},200)},this.isAuthenticated=function(){var e=JSON.parse(localStorage.getItem("expiresAt"));return(new Date).getTime()<e}},ct=function(e){var t=e.component,n=e.auth;return r.a.createElement(at.a,{render:function(e){return!0===n.isAuthenticated()?r.a.createElement(t,Object.assign({auth:n},e)):r.a.createElement(rt.a,{to:{pathname:"/redirect"}})}})},it=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;st.isAuthenticated()?(this.props.login_success(),st.getProfile(),setTimeout(function(){e.props.add_profile(st.userProfile)},400)):(this.props.login_failure(),this.props.remove_profile())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ot.a,{history:H},r.a.createElement("div",null,r.a.createElement(B,{auth:st}),r.a.createElement(lt.a,null,r.a.createElement(at.a,{exact:!0,path:"/",component:be}),r.a.createElement(at.a,{exact:!0,path:"/form1",component:pe}),r.a.createElement(at.a,{exact:!0,path:"/container1",render:function(){return r.a.createElement(U,{auth:st})}}),r.a.createElement(at.a,{path:"/authcheck",render:function(){return r.a.createElement(nt,{auth:st})}}),r.a.createElement(at.a,{path:"/redirect",component:Ee}),r.a.createElement(at.a,{path:"/renderlist",component:de}),r.a.createElement(at.a,{path:"/user/:name",component:Ne}),r.a.createElement(ct,{path:"/sendmessage",auth:st,component:Be}),r.a.createElement(ct,{path:"/showmessages/:id",auth:st,component:Ze}),r.a.createElement(ct,{path:"/replytomessage",auth:st,component:$e}),r.a.createElement(at.a,{path:"/posts",component:Pe}),r.a.createElement(at.a,{path:"/post/:pid",component:Ae}),r.a.createElement(at.a,{path:"/editpost/:pid",component:Fe}),r.a.createElement(at.a,{path:"/addpost",component:De}),r.a.createElement(at.a,{path:"/signup",render:function(e){return r.a.createElement(ve,Object.assign({auth:st},e))}}),r.a.createElement(at.a,{path:"/callback",render:function(e){return function(e){e.location.hash&&st.handleAuth()}(e),r.a.createElement(fe,null)}}),r.a.createElement(at.a,{path:"/component1",render:function(e){return r.a.createElement(he,e)}}),r.a.createElement(at.a,{path:"/listitem/:id",component:ge}),r.a.createElement(ct,{path:"/privateroute",auth:st,component:_e}),r.a.createElement(ct,{path:"/profile",auth:st,component:ie})))))}}]),t}(a.Component);var ut=Object(m.b)(null,function(e){return{login_success:function(){return e(C())},login_failure:function(){return e(j())},add_profile:function(t){return e(k(t))},remove_profile:function(){return e(R())}}})(it),pt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"React",r.a.createElement(ut,null))}}]),t}(a.Component),mt=n(17),dt={stateprop1:!1},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;switch((arguments.length>1?arguments[1]:void 0).type){case"SUCCESS":return Object(mt.a)({},e,{stateprop1:!0});case"FAILURE":return Object(mt.a)({},e,{stateprop1:!1});default:return e}},ft={is_authenticated:!1,profile:null,db_profile:null},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(mt.a)({},e,{is_authenticated:!0});case"LOGIN_FAILURE":return Object(mt.a)({},e,{is_authenticated:!1});case"ADD_PROFILE":return Object(mt.a)({},e,{profile:t.payload});case"REMOVE_PROFILE":return Object(mt.a)({},e,{profile:null});case"SET_DB_PROFILE":return Object(mt.a)({},e,{db_profile:t.payload});case"REMOVE_DB_PROFILE":return Object(mt.a)({},e,{db_profile:null});default:return e}},Et={user_text:"",OtherUserDBProfile:null,db_other_user_posts:[],UserMessages:[]},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_INPUT":return Object(mt.a)({},e,{user_text:t.payload});case h:return Object(mt.a)({},e,{OtherUserDBProfile:t.payload});case f:return Object(mt.a)({},e,{OtherUserDBProfile:null});case _:return Object(mt.a)({},e,{db_other_user_posts:t.payload});case d:return Object(mt.a)({},e,{db_other_user_posts:[]});case E:return Object(mt.a)({},e,{UserMessages:t.payload});case b:return Object(mt.a)({},e,{UserMessages:[]});default:return e}},gt={posts:[],comments:[],user_posts:[],db_search_posts:[]},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DB_POSTS":return Object(mt.a)({},e,{posts:t.payload});case"REMOVE_DB_POSTS":return Object(mt.a)({},e,{posts:[]});case"FETCH_POST_COMMENTS":return Object(mt.a)({},e,{comments:t.payload});case"REMOVE_POST_COMMENTS":return Object(mt.a)({},e,{comments:[]});case"FETCH_USER_POSTS":return Object(mt.a)({},e,{user_posts:t.payload});case"REMOVE_USER_POSTS":return Object(mt.a)({},e,{user_posts:[]});case"SEARCH_POSTS_SUCCESS":return Object(mt.a)({},e,{db_search_posts:t.payload});case"SEARCH_POSTS_FAILURE":return Object(mt.a)({},e,{db_search_posts:[]});default:return e}},yt=n(32),Ot=Object(yt.combineReducers)({reducer1:ht,auth_reducer:_t,user_reducer:bt,posts_reducer:vt}),St=n(127),Ct=Object(yt.createStore)(Ot,Object(St.composeWithDevTools)(Object(yt.applyMiddleware)()));l.a.render(r.a.createElement(m.a,{store:Ct},r.a.createElement(pt,null)),document.getElementById("root"))},89:function(e,t,n){}},[[128,2,1]]]);
//# sourceMappingURL=main.b36fefd3.chunk.js.map